(this["webpackJsonpevent-manager"]=this["webpackJsonpevent-manager"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),s=n.n(a),c=n(16),i=n.n(c),o=n(19),u=n(13),l=n.n(u),E=n(20),d=n(15),v=(n(81),n(65)),h={START_FETCHING_ALL_EVENTS:"START_FETCHING_ALL_EVENTS",SUCCESS_FETCHING_ALL_EVENTS:"SSUCCESS_FETCHING_ALL_EVENTS",FAILURE_FETCHING_ALL_EVENTS:"FAILURE_FETCHING_ALL_EVENTS",START_ADD_NEW_EVENTS:"START_ADD_NEW_EVENTS",SUCCESS_ADD_NEW_EVENTS:"SUCCESS_ADD_NEW_EVENTS",FAILURE_ADD_NEW_EVENTS:"FAILURE_ADD_NEW_EVENTS"},j=function(){return{type:h.START_FETCHING_ALL_EVENTS}},b=function(e){return{type:h.SUCCESS_FETCHING_ALL_EVENTS,payload:e}},p=function(){return{type:h.FAILURE_FETCHING_ALL_EVENTS}},O=function(){return{type:h.FAILURE_ADD_NEW_EVENTS}},m=n(8),f=n(38),N=n.n(f),g="https://database2021.herokuapp.com",x=function(e,t){return N.a.post(g+e,Object(m.a)({},t))},S=l.a.mark(C),_=l.a.mark(L),T=l.a.mark(y),D=l.a.mark(F),A=l.a.mark(V);function C(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n="/events",N.a.get(g+n);case 3:return e=t.sent,console.log("allEvents",e),t.next=7,Object(d.c)(b(e.data));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(d.c)(p);case 13:case"end":return t.stop()}var n}),S,null,[[0,9]])}function L(e){var t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,console.log("new event data to be entered is",t),n.prev=2,n.next=5,x("/events",t);case 5:return n.next=7,Object(d.c)({type:h.SUCCESS_ADD_NEW_EVENTS});case 7:return n.next=9,Object(d.c)(j());case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(2),n.next=15,Object(d.c)(O);case 15:case"end":return n.stop()}}),_,null,[[2,11]])}function y(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(h.START_FETCHING_ALL_EVENTS,C);case 2:case"end":return e.stop()}}),T)}function F(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(h.START_ADD_NEW_EVENTS,L);case 2:case"end":return e.stop()}}),D)}function V(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(d.b)(y),Object(d.b)(F)]);case 2:case"end":return e.stop()}}),A)}var M={isLoading:!1,isEventFetchError:!1,allEvents:null,hasPostEventStarted:!1,hasPostEventSuccess:!1,hasPostEventError:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.START_ADD_NEW_EVENTS:case h.START_FETCHING_ALL_EVENTS:return Object(m.a)(Object(m.a)({},e),{},{isLoading:!0,isEventFetchError:!1,hasPostEventError:!1});case h.SUCCESS_FETCHING_ALL_EVENTS:return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1,isEventFetchError:!1,allEvents:t.payload});case h.SUCCESS_ADD_NEW_EVENTS:return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1,hasPostEventError:!1,hasPostEventSuccess:!0});case h.FAILURE_FETCHING_ALL_EVENTS:return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1,isEventFetchError:!1,allEvents:[]});case h.FAILURE_ADD_NEW_EVENTS:return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1,hasPostEventError:!0,hasPostEventSuccess:!1});default:return e}},P=l.a.mark(k),w=Object(v.a)(),R=[w];function k(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(V);case 2:case"end":return e.stop()}}),P)}var U=Object(E.c)({events:I}),W=Object(E.e)(U,E.a.apply(void 0,R));w.run(k);var G=W,H=(n(99),n(100),n(133)),B=n(134),q=n(132),J=n(53),z=n.n(J),K=(n(101),n(43)),Q=n(24),X=n(25),Y=n(31),Z=n(28),$=(n(102),n(50)),ee=(n(103),function(e){var t=e.handleChange,n=e.isError,a=e.label,s=Object($.a)(e,["handleChange","isError","label"]);return Object(r.jsxs)("div",{className:"group",children:[Object(r.jsx)("input",Object(m.a)({className:n?"form-input error":"form-input",onChange:t},s)),Object(r.jsx)("label",{className:s.value.length?"shrink form-input-label":"form-input-label",style:n?{color:"red"}:null,children:a})]})}),te=(n(104),function(e){var t=e.children,n=e.disabled,a=Object($.a)(e,["children","disabled"]);return Object(r.jsx)("button",Object(m.a)(Object(m.a)({},a),{},{disabled:n,className:n?"disabled-button custom-button":"custom-button",children:t}))}),ne=function(e){Object(Y.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(Q.a)(this,n),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t={id:r.state.eventName+r.state.venue+r.state.price,Description:r.state.description,Discount:r.state.discount,Event_Name:r.state.eventName,Price:r.state.price,Venue:r.state.venue};console.log("event Data is",t);try{r.props.startAddingNewEvents(t)}catch(n){console.log("error in post request")}},r.handleChnage=function(e){var t=e.target,n=t.name,a=t.value,s=t.validity;r.validateForm(n,a,s),r.setState(Object(K.a)({},"".concat(n),a))},r.resetForm=function(){r.setState({eventName:"",description:"",venue:"",price:"",discount:"",hasEventNameError:!1,hasDescriptionError:!1,hasVenueError:!1,hasPriceError:!1,hasDiscountError:!1,eventNameErrorMsg:"",descriptionErrorMsg:"",venueErrorMsg:"",priceErrorMsg:"",discountErrorMsg:""})},r.validateForm=function(e,t,n){if("eventName"===e&&(n.valid?r.setState({hasEventNameError:!1,eventNameErrorMsg:""}):r.setState({hasEventNameError:!0,eventNameErrorMsg:"Event name cannot be Empty"})),"description"===e&&(n.valid?r.setState({hasDescriptionError:!1,descriptionErrorMsg:""}):r.setState({hasDescriptionError:!0,descriptionErrorMsg:"Description cannot be Empty"})),"venue"===e&&(n.valid?r.setState({hasVenueError:!1,venueErrorMsg:""}):r.setState({hasVenueError:!0,venueErrorMsg:"Venue cannot be Empty"})),"price"===e)if(n.valid)r.setState({hasPriceError:!1,priceErrorMsg:""});else{r.setState({hasPriceError:!0,priceErrorMsg:"price is mandatory and cannot be less than one"})}if("discount"===e){var a="discount percentage cannot be empty";t<0&&(a="discount percentage cannot be less than zero"),t>100&&(a="discount percentage cannot be greater than 100"),n.valid?r.setState({hasDiscountError:!1,discountErrorMsg:""}):r.setState({hasDiscountError:!0,discountErrorMsg:a})}},r.state={eventName:"",description:"",venue:"",price:"",discount:"",hasEventNameError:!1,hasDescriptionError:!1,hasVenueError:!1,hasPriceError:!1,hasDiscountError:!1,eventNameErrorMsg:"",descriptionErrorMsg:"",venueErrorMsg:"",priceErrorMsg:"",discountErrorMsg:""},r}return Object(X.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.eventName,a=t.description,s=t.venue,c=t.price,i=t.discount,o=t.hasDiscountError,u=t.hasEventNameError,l=t.hasDescriptionError,E=t.hasVenueError,d=t.hasPriceError,v=t.priceErrorMsg,h=t.discountErrorMsg,j=t.eventNameErrorMsg,b=t.descriptionErrorMsg,p=t.venueErrorMsg;return Object(r.jsx)("div",{className:"form-container",children:Object(r.jsxs)("form",{className:"add-new-event-form",onSubmit:this.handleSubmit,children:[Object(r.jsx)(ee,{type:"text",isError:u,name:"eventName",label:"Event Name",value:n,required:!0,onBlur:function(t){e.validateForm(t.target.name,t.targetvalue,t.target.validity)},handleChange:this.handleChnage}),u&&Object(r.jsx)("span",{className:"errorMessage",children:j}),Object(r.jsx)(ee,{type:"text",name:"description",label:"Event Description",value:a,isError:l,required:!0,onBlur:function(t){e.validateForm(t.target.name,t.targetvalue,t.target.validity)},handleChange:this.handleChnage}),l&&Object(r.jsx)("span",{className:"errorMessage",children:b}),Object(r.jsx)(ee,{type:"text",name:"venue",label:"Event Venue",value:s,isError:E,required:!0,onBlur:function(t){e.validateForm(t.target.name,t.targetvalue,t.target.validity)},handleChange:this.handleChnage}),E&&Object(r.jsx)("span",{className:"errorMessage",children:p}),Object(r.jsx)(ee,{type:"number",name:"price",label:"Price",min:"1",value:c,isError:d,required:!0,onBlur:function(t){e.validateForm(t.target.name,t.targetvalue,t.target.validity)},handleChange:this.handleChnage}),d&&Object(r.jsx)("span",{className:"errorMessage",children:v}),Object(r.jsx)(ee,{type:"number",name:"discount",label:"Discount Percentage",value:i,isError:o,min:"0",max:"100",required:!0,onBlur:function(t){e.validateForm(t.target.name,t.targetvalue,t.target.validity)},handleChange:this.handleChnage}),o&&Object(r.jsx)("span",{className:"errorMessage",children:h}),Object(r.jsxs)("div",{className:"form-button",children:[Object(r.jsx)(te,{type:"submit",children:"Add New Event "}),Object(r.jsx)(te,{type:"button",onClick:this.resetForm,children:"Reset"})]})]})})}}]),n}(s.a.Component),re=Object(o.b)(null,(function(e){return{startAddingNewEvents:function(t){return e({type:h.START_ADD_NEW_EVENTS,payload:t})}}}))(ne),ae=(n(105),n(106),function(e){Object(Y.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(Q.a)(this,n),(r=t.call(this,e)).state={allEvents:[]},r}return Object(X.a)(n,[{key:"render",value:function(){var e=this.props.eventData,t=e.Description,n=e.Discount,a=e.Event_Name,s=e.Price,c=e.Venue;return Object(r.jsxs)("div",{className:"each-event-container",children:[Object(r.jsxs)("div",{className:"event-item",children:[" ",Object(r.jsx)("span",{children:"Event Name"}),"           ",Object(r.jsx)("span",{children:a})," "]}),Object(r.jsxs)("div",{className:"event-item",children:[" ",Object(r.jsx)("span",{children:"Event Description"}),"    ",Object(r.jsxs)("span",{children:[" ",t," "]})," "]}),Object(r.jsxs)("div",{className:"event-item",children:[" ",Object(r.jsx)("span",{children:"Event Venue"}),"          ",Object(r.jsxs)("span",{children:[" ",c," "]})," "]}),Object(r.jsxs)("div",{className:"event-item",children:[" ",Object(r.jsx)("span",{children:"Event Price"}),"          ",Object(r.jsxs)("span",{children:[" ",s," "]})," "]}),Object(r.jsxs)("div",{className:"event-item",children:[" ",Object(r.jsx)("span",{children:"Event Discount"}),"       ",Object(r.jsxs)("span",{children:[n," % "]}),"  "]})]})}}]),n}(s.a.Component)),se=(n(107),function(e){var t=e.name,n=e.id,a=e.options,s=e.defaultValue,c=e.handleChange;return Object(r.jsx)("select",{className:"select-css",name:t,id:n,defaultValue:s,onChange:function(e){return c(e.target.value)},children:a.map((function(e,t){return Object(r.jsx)("option",{value:e.value,children:e.value},t+n)}))},n)}),ce=n(23),ie=function(e){return e.events},oe=Object(ce.a)([ie],(function(e){return e.isLoading})),ue=(Object(ce.a)([ie],(function(e){return e.isEventFetchError})),Object(ce.a)([ie],(function(e){return null===e.allEvents?[]:e.allEvents}))),le=(Object(ce.a)([ie],(function(e){return e.hasPostEventStarted})),Object(ce.a)([ie],(function(e){return e.hasPostEventSuccess})),Object(ce.a)([ie],(function(e){return e.hasPostEventError})),function(e){Object(Y.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(Q.a)(this,n),(r=t.call(this,e)).filterOptions=[{value:"ALL"},{value:"Free"},{value:"Discount"},{value:"No Discount"}],r.handelFilterChangeEvent=function(e){var t=[];"ALL"===e&&(t=r.state.allEvents),"Free"===e&&(t=r.state.allEvents.filter((function(e){return"100"===e.Discount}))),"Discount"===e&&(t=function(e){return e.filter((function(e){return"0"!==e.Discount}))}(r.state.allEvents)),"No Discount"===e&&(t=function(e){return e.filter((function(e){return"0"===e.Discount}))}(r.state.allEvents)),r.setState({eventsToDisplay:t})},r.state={allEvents:[],eventsToDisplay:[]},r}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.setState({allEvents:this.props.allEvents,eventsToDisplay:this.props.allEvents})}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"filter-event-container",children:[Object(r.jsxs)("div",{children:["Filter By: \xa0\xa0",Object(r.jsx)(se,{name:"filter",id:"filter",options:this.filterOptions,defaultValue:"ALL",handleChange:this.handelFilterChangeEvent})]}),0===this.state.eventsToDisplay.length?Object(r.jsx)("div",{className:"no-events",children:"No events found"}):Object(r.jsx)("div",{className:"event-container",children:this.state.eventsToDisplay.map((function(e,t){return Object(r.jsx)(ae,{eventData:e},t)}))})]})}}]),n}(s.a.Component)),Ee=Object(o.b)((function(e){return{allEvents:ue(e)}}))(le),de=(n(108),function(){return Object(r.jsx)(a.Fragment,{children:Object(r.jsx)("div",{className:"spinnercontainer",children:Object(r.jsx)("div",{className:"spinnerOverlay"})})})}),ve=Object(o.b)((function(e){return{isLoading:oe(e)}}),(function(e){return{getAllEvents:function(){return e(j())}}}))((function(e){var t=e.getAllEvents,n=e.isLoading;return Object(a.useEffect)((function(){t()}),[t]),Object(r.jsxs)("div",{className:"accordion-container",children:[Object(r.jsxs)(H.a,{children:[Object(r.jsx)(B.a,{expandIcon:Object(r.jsx)(z.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(r.jsx)("h2",{className:"accordion-header",children:"ADD NEW EVENT"})}),Object(r.jsx)(q.a,{children:Object(r.jsx)(re,{})})]}),Object(r.jsxs)(H.a,{defaultExpanded:!0,children:[Object(r.jsx)(B.a,{expandIcon:Object(r.jsx)(z.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(r.jsx)("h2",{className:"accordion-header",children:"ALL EVENTS"})}),Object(r.jsx)(q.a,{children:n?Object(r.jsx)(de,{}):Object(r.jsx)(Ee,{})})]})]})}));var he=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(ve,{})})};i.a.render(Object(r.jsx)(o.a,{store:G,children:Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(he,{})})}),document.getElementById("root"))},99:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.b615352b.chunk.js.map